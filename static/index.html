<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>E-Commerce Demo</title>

		<base href="https://185.133.40.239.sslip.io/" />
		<link rel="preload" href="static/css/bootstrap.min.css" as="style" onload="this.rel='stylesheet'" />
		<noscript>
			<link rel="stylesheet" href="static/css/bootstrap.min.css" />
		</noscript>

		<link rel="icon" type="image/png" href="/favicon.ico" />

		<script src="static/js/bootstrap.bundle.min.js" defer></script>

		<script>
			window.API_BASE = "https://185.133.40.239.sslip.io";
		</script>

		<script type="module" src="./index.js" defer></script>
	</head>

	<div class="modal fade" id="editModal" tabindex="-1" aria-hidden="true">
		<div class="modal-dialog">
			<form class="modal-content" id="modalForm">
				<!-- form = enter ↵ submits -->
				<div class="modal-header">
					<h5 class="modal-title" id="modalTitle">Add product</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body" id="modalBody"><!-- injected by JS --></div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
					<button type="submit" class="btn btn-primary" id="modalSave">Save</button>
				</div>
			</form>
		</div>
	</div>

	<body>
		<nav class="navbar navbar-light bg-light px-3 mb-3">
			<span class="navbar-brand mb-0 h1">E-Commerce Demo</span>
			<button id="btnLogout" class="btn btn-outline-secondary btn-sm d-none">Log out</button>
		</nav>
		<form id="loginForm" class="container py-5">
			<div class="row justify-content-center">
				<div class="col-md-4">
					<div class="card shadow-sm">
						<div class="card-body">
							<h5 class="card-title text-center mb-3">Sign In</h5>
							<div id="loginError" class="text-danger mb-2"></div>
							<input id="username" name="username" type="text" class="form-control mb-2" placeholder="Username" />
							<input id="password" name="password" type="password" class="form-control mb-3" placeholder="Password" />
							<button id="btnLogin" class="btn btn-primary w-100" type="submit">Log In</button>
						</div>
					</div>
				</div>
			</div>
		</form>
		<div id="mainContent" class="container py-4" style="display: none">
			<!-- Nav tabs -->
			<ul class="nav nav-tabs mb-3" id="mainTabs">
				<li class="nav-item">
					<a class="nav-link active" href="#" data-page="products">Products</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#" data-page="users">Users</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#" data-page="orders">Orders</a>
				</li>
				<!--  add-button LAST + ms-auto  -->
				<li class="nav-item ms-auto">
					<!-- Single smart button -->
					<button id="btnAdd" class="btn btn-sm btn-outline-primary d-none">
						<!-- label injected by JS -->
					</button>
				</li>
			</ul>
			<!-- Products filter (hidden unless Products tab is active) -->
			<div id="productFilter" class="bg-light p-2 border rounded d-none mb-3">
				<div class="row g-2 align-items-center">
					<div class="col-md-4">
						<input type="text" class="form-control" placeholder="Name contains…" id="fName" />
					</div>
					<div class="col-md-3">
						<input type="number" step="0.01" min="0" class="form-control" placeholder="Min price" id="fMin" />
					</div>
					<div class="col-md-3">
						<input type="number" step="0.01" min="0" class="form-control" placeholder="Max price" id="fMax" />
					</div>
				</div>
			</div>
			<!-- Users filter (hidden unless Users tab is active) -->
			<div id="userFilter" class="bg-light p-2 border rounded d-none mb-3">
				<div class="row g-2 align-items-center">
					<div class="col-md-5">
						<input id="uName" class="form-control" placeholder="Username contains…" />
					</div>
					<div class="col-md-5">
						<input id="uEmail" class="form-control" placeholder="Email contains…" />
					</div>
				</div>
			</div>
			<!-- Orders filter (hidden unless Orders tab is active) -->
			<div id="orderFilter" class="bg-light p-2 border rounded d-none mb-3">
				<div class="row g-2 align-items-center">
					<div class="col-md-4">
						<!-- text/number is simplest; later you can auto-fill a <select> -->
						<input id="oUser" type="number" min="1" class="form-control" placeholder="User ID (leave blank = all)" />
					</div>
				</div>
			</div>
			<!-- Data will render here -->
			<div id="contentArea"></div>
		</div>
		<!-- Toast container (bottom-right corner) -->
		<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1100">
			<div
				id="mainToast"
				class="toast text-white bg-danger border-0"
				role="alert"
				aria-live="assertive"
				aria-atomic="true"
				data-bs-delay="4000"
			>
				<!-- auto-hide after 4 s -->
				<div class="d-flex">
					<div class="toast-body"><!-- message injected by JS --></div>
					<button
						type="button"
						class="btn-close btn-close-white me-2 m-auto"
						data-bs-dismiss="toast"
						aria-label="Close"
					></button>
				</div>
			</div>
		</div>
	</body>
</html>
